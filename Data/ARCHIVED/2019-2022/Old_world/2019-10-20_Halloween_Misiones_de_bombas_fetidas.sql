-- 69191 - limpiador-arcano , necesario para las misiones 29375 y 29144
DELETE FROM `item_template` WHERE `entry` = 69191;
INSERT INTO `item_template` (`entry`, `class`, `subclass`, `SoundOverrideSubclass`, `name`, `displayid`, `Quality`, `Flags`, `FlagsExtra`, `Unk430_1`, `Unk430_2`, `BuyCount`, `BuyPrice`, `SellPrice`, `InventoryType`, `AllowableClass`, `AllowableRace`, `ItemLevel`, `RequiredLevel`, `RequiredSkill`, `RequiredSkillRank`, `requiredspell`, `requiredhonorrank`, `RequiredCityRank`, `RequiredReputationFaction`, `RequiredReputationRank`, `maxcount`, `stackable`, `ContainerSlots`, `stat_type1`, `stat_value1`, `stat_unk1_1`, `stat_unk2_1`, `stat_type2`, `stat_value2`, `stat_unk1_2`, `stat_unk2_2`, `stat_type3`, `stat_value3`, `stat_unk1_3`, `stat_unk2_3`, `stat_type4`, `stat_value4`, `stat_unk1_4`, `stat_unk2_4`, `stat_type5`, `stat_value5`, `stat_unk1_5`, `stat_unk2_5`, `stat_type6`, `stat_value6`, `stat_unk1_6`, `stat_unk2_6`, `stat_type7`, `stat_value7`, `stat_unk1_7`, `stat_unk2_7`, `stat_type8`, `stat_value8`, `stat_unk1_8`, `stat_unk2_8`, `stat_type9`, `stat_value9`, `stat_unk1_9`, `stat_unk2_9`, `stat_type10`, `stat_value10`, `stat_unk1_10`, `stat_unk2_10`, `ScalingStatDistribution`, `DamageType`, `delay`, `RangedModRange`, `spellid_1`, `spelltrigger_1`, `spellcharges_1`, `spellcooldown_1`, `spellcategory_1`, `spellcategorycooldown_1`, `spellid_2`, `spelltrigger_2`, `spellcharges_2`, `spellcooldown_2`, `spellcategory_2`, `spellcategorycooldown_2`, `spellid_3`, `spelltrigger_3`, `spellcharges_3`, `spellcooldown_3`, `spellcategory_3`, `spellcategorycooldown_3`, `spellid_4`, `spelltrigger_4`, `spellcharges_4`, `spellcooldown_4`, `spellcategory_4`, `spellcategorycooldown_4`, `spellid_5`, `spelltrigger_5`, `spellcharges_5`, `spellcooldown_5`, `spellcategory_5`, `spellcategorycooldown_5`, `bonding`, `description`, `PageText`, `LanguageID`, `PageMaterial`, `startquest`, `lockid`, `Material`, `sheath`, `RandomProperty`, `RandomSuffix`, `itemset`, `MaxDurability`, `area`, `Map`, `BagFamily`, `TotemCategory`, `socketColor_1`, `socketContent_1`, `socketColor_2`, `socketContent_2`, `socketColor_3`, `socketContent_3`, `socketBonus`, `GemProperties`, `ArmorDamageModifier`, `duration`, `ItemLimitCategory`, `HolidayId`, `StatScalingFactor`, `CurrencySubstitutionId`, `CurrencySubstitutionCount`, `flagsCustom`, `WDBVerified`)
VALUES('69191','12','0','-1','Arcane Cleanser','53194','1','65600','8192','1.0111','1','1','0','0','0','-1','-1','0','0','0','0','0','0','0','0','0','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','97187','0','0','3000','0','-1','0','0','0','-1','0','-1','0','0','0','-1','0','-1','0','0','0','-1','0','-1','0','0','0','-1','0','-1','4','','0','0','0','0','0','4','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1');

-- 34068 = calabaza iluminada pesada se agrego como reompensa de la misión debido a la falta de misiones 
-- 29375-limpieza-en-entrañas
UPDATE `quest_template` SET `RewardItemId2` = '34068' , `RewardItemCount2` = '2' WHERE `Id` = '29375'; 

-- 29144-limpieza-en-ventormenta
UPDATE `quest_template` SET `RewardItemId2` = '34068' , `RewardItemCount2` = '2' WHERE `Id` = '29144'; 

-- lista de gobjects para las 2 misiones ID = 208200
-- update `gameobject` set `spawntimesecs` = 160 where `id` = 208200;
DELETE FROM `gameobject` WHERE `id` = 208200;
SET @halloween := 150276;

INSERT INTO `gameobject` (`guid`, `id`, `map`, `zone`, `area`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`) 
VALUES
-- Ciudad de Ventormenta
(@halloween-1,'208200','0','1519','5148','1','1','-9050.89','452.344','93.0565','3.06637','0','0','0.999293','0.0376002','160','0','1'),
(@halloween,'208200','0','1519','5148','1','1','-9009.24','471.344','96.4532','0.497336','0','0','0.246113','0.969241','160','0','1'),
(@halloween+1,'208200','0','1519','5148','1','1','-8967.01','517.866','96.5951','0.874327','0','0','0.423371','0.905956','160','0','1'),
(@halloween+2,'208200','0','1519','1617','1','1','-8920.66','530.867','94.5306','2.03671','0','0','0.851247','0.524766','160','0','1'),
(@halloween+3,'208200','0','1519','5148','1','1','-8875.51','573.803','93.4846','0.399157','0','0','0.198256','0.98015','160','0','1'),
(@halloween+4,'208200','0','1519','5148','1','1','-8832.5','626.125','94.1462','0.925374','0','0','0.446354','0.894856','160','0','1'),
(@halloween+5,'208200','0','1519','5148','1','1','-8845.04','545.452','97.2135','3.85885','0','0','0.93638','-0.350988','160','0','1'),
(@halloween+6,'208200','0','1519','5148','1','1','-8777.3','600.237','97.3321','0.783999','0','0','0.382037','0.924147','160','0','1'),
(@halloween+7,'208200','0','1519','5390','1','1','-8679.54','554.056','97.5694','0.901797','0','0','0.435775','0.900056','160','0','1'),
(@halloween+8,'208200','0','1519','5149','1','1','-8642.74','431.403','101.471','4.13764','0','0','0.878527','-0.477692','160','0','1'),
(@halloween+9,'208200','0','1519','5149','1','1','-8755.09','391.665','101.057','5.47282','0','0','0.394185','-0.919031','160','0','1'),
(@halloween+10,'208200','0','1519','5149','1','1','-8693.72','473.289','95.366','0.972487','0','0','0.467308','0.884095','160','0','1'),
(@halloween+11,'208200','0','1519','1519','1','1','-8741.69','355.56','101.103','4.06303','0','0','0.895733','-0.444592','160','0','1'),
(@halloween+12,'208200','0','1519','1519','1','1','-8778.33','375.387','100.817','2.88493','0','0','0.991777','0.127979','160','0','1'),
(@halloween+13,'208200','0','1519','5149','1','1','-8647.73','483.022','102.543','2.33123','0','0','0.91903','0.394186','160','0','1'),
(@halloween+14,'208200','0','1519','5390','1','1','-8584.37','577.875','103.379','0.897875','0','0','0.434009','0.900909','160','0','1'),
(@halloween+15,'208200','0','1519','5390','1','1','-8539.86','503.328','98.6471','6.13648','0','0','0.0732865','-0.997311','160','0','1'),
(@halloween+16,'208200','0','1519','5150','1','1','-8430.18','619.808','95.4047','1.08244','0','0','0.515183','0.85708','160','0','1'),
(@halloween+17,'208200','0','1519','5150','1','1','-8412.84','673.984','95.1514','3.1559','0','0','0.999974','-0.00715123','160','0','1'),
(@halloween+18,'208200','0','1519','5390','1','1','-8517.08','645.574','100.237','3.84705','0','0','0.938434','-0.345459','160','0','1'),
(@halloween+19,'208200','0','1519','5151','1','1','-8608.91','710.441','96.7733','3.44257','0','0','0.988698','-0.14992','160','0','1'),
(@halloween+20,'208200','0','1519','5151','1','1','-8612.66','765.593','96.8855','1.22382','0','0','0.574431','0.818553','160','0','1'),
(@halloween+21,'208200','0','1519','5151','1','1','-8645.14','829.922','96.7364','1.94638','0','0','0.826686','0.562664','160','0','1'),
(@halloween+22,'208200','0','1519','5390','1','1','-8709.28','726.803','97.5275','2.2684','0','0','0.906195','0.422859','160','0','1'),
(@halloween+23,'208200','0','1519','5390','1','1','-8773.32','744.056','99.303','2.48831','0','0','0.947125','0.320865','160','0','1'),
(@halloween+24,'208200','0','1519','5390','1','1','-8882.34','706.754','98.1005','3.45435','0','0','0.987798','-0.155741','160','0','1'),
(@halloween+25,'208200','0','1519','5390','1','1','-8878.7','756.573','96.3886','3.49362','0','0','0.98455','-0.175105','160','0','1'),
(@halloween+26,'208200','0','1519','5390','1','1','-8827.33','809.644','98.4698','1.23167','0','0','0.577641','0.816291','160','0','1'),
(@halloween+27,'208200','0','1519','5390','1','1','-8847.55','923.214','101.804','2.17808','0','0','0.886182','0.463338','160','0','1'),
(@halloween+28,'208200','0','1519','5154','1','1','-8928.03','958.6','117.262','2.50009','0','0','0.948999','0.31528','160','0','1'),
(@halloween+29,'208200','0','1519','5154','1','1','-9017.78','924.528','107.611','4.36541','0','0','0.818553','-0.574431','160','0','1'),
(@halloween+30,'208200','0','1519','5154','1','1','-8986.51','879.876','105.94','5.14688','0','0','0.538076','-0.842897','160','0','1'),
(@halloween+31,'208200','0','1519','5154','1','1','-9006.22','886.632','114.517','0.194941','0','0','0.0973164','0.995254','160','0','1'),
(@halloween+32,'208200','0','1519','5154','1','1','-9002.04','863.602','129.785','5.25291','0','0','0.492654','-0.870225','160','0','1'),
(@halloween+33,'208200','0','1519','5390','1','1','-8860.62','745.911','100.037','5.65739','0','0','0.307815','-0.951446','160','0','1'),
(@halloween+34,'208200','0','1519','5148','1','1','-8840.13','669.171','98.0277','3.72139','0','0','0.958272','-0.285857','160','0','1'),
(@halloween+35,'208200','0','1519','5148','1','1','-8871','648.181','95.8474','3.84313','0','0','0.939109','-0.34362','160','0','1'),
(@halloween+36,'208200','0','1519','5148','1','1','-8864.9','611.544','93.2129','1.6715','0','0','0.7418','0.670621','160','0','1'),
-- Ciudad de Entrañas
(@halloween+37,'208200','0','1497','1497','1','1','1595.89','216.459','-56.3981','5.04178','0','0','0.581608','-0.813469','160','0','1'),
(@halloween+38,'208200','0','1497','1497','1','1','1562.21','242.72','-43.2074','2.2811','0','0','0.908863','0.417094','160','0','1'),
(@halloween+39,'208200','0','1497','1497','1','1','1631.57','226.873','-43.1027','4.90824','0','0','0.634585','-0.772853','160','0','1'),
(@halloween+40,'208200','0','1497','1497','1','1','1610.22','256.342','-61.9117','1.95515','0','0','0.829144','0.559035','160','0','1'),
(@halloween+41,'208200','0','1497','1497','1','1','1728.39','243.573','-62.1765','3.19606','0','0','0.999629','-0.0272319','160','0','1'),
(@halloween+42,'208200','0','1497','1497','1','1','1771.72','341.662','-62.3152','0.851649','0','0','0.413072','0.910698','160','0','1'),
(@halloween+43,'208200','0','1497','1497','1','1','1790.34','394.617','-56.7883','2.04938','0','0','0.854554','0.519363','160','0','1'),
(@halloween+44,'208200','0','1497','1497','1','1','1694.54','421.083','-62.3007','3.05862','0','0','0.99914','0.0414747','160','0','1'),
(@halloween+45,'208200','0','1497','1497','1','1','1672.65','315.608','-62.1348','4.16996','0','0','0.870693','-0.491826','160','0','1'),
(@halloween+46,'208200','0','1497','1497','1','1','1569.37','414.724','-62.1781','2.9526','0','0','0.995538','0.0943569','160','0','1'),
(@halloween+47,'208200','0','1497','1497','1','1','1520.13','375.5','-51.1006','1.97085','0','0','0.833508','0.552507','160','0','1'),
(@halloween+48,'208200','0','1497','1497','1','1','1496.69','293.084','-62.1715','5.11637','0','0','0.550873','-0.834589','160','0','1'),
(@halloween+49,'208200','0','1497','1497','1','1','1401.83','361.913','-66.0333','2.52848','0','0','0.953379','0.301777','160','0','1'),
(@halloween+50,'208200','0','1497','1497','1','1','1528.04','242.279','-62.1766','6.25912','0','0','0.0120345','-0.999928','160','0','1'),
(@halloween+51,'208200','0','1497','1497','1','1','1467.36','185.135','-62.1812','4.85718','0','0','0.654107','-0.756402','160','0','1'),
(@halloween+52,'208200','0','1497','1497','1','1','1420.87','69.2284','-62.2805','3.85973','0','0','0.936224','-0.351403','160','0','1'),
(@halloween+53,'208200','0','1497','1497','1','1','1552.24','136.063','-62.1708','5.94889','0','0','0.166369','-0.986063','160','0','1'),
(@halloween+54,'208200','0','1497','1497','1','1','1586.63','106.559','-62.1776','5.85071','0','0','0.214555','-0.976712','160','0','1'),
(@halloween+55,'208200','0','1497','1497','1','1','1678.25','94.6275','-62.1394','1.38964','0','0','0.640248','0.768168','160','0','1'),
(@halloween+56,'208200','0','1497','1497','1','1','1750.77','48.277','-52.8169','5.35983','0','0','0.445451','-0.895306','160','0','1'),
(@halloween+57,'208200','0','1497','1497','1','1','1791.66','129.216','-63.8431','1.29146','0','0','0.601784','0.798659','160','0','1'),
(@halloween+58,'208200','0','1497','1497','1','1','1752.36','150.954','-62.229','2.41851','0','0','0.935353','0.353716','160','0','1'),
(@halloween+59,'208200','0','1497','1497','1','1','1694.21','190.179','-62.1727','6.13737','0','0','0.0728428','-0.997343','160','0','1'),
(@halloween+60,'208200','0','1497','1497','1','1','1638.58','135.191','-62.1607','3.44346','0','0','0.988631','-0.150362','160','0','1'),
(@halloween+61,'208200','0','1497','1497','1','1','1552.46','294.108','-62.1808','3.91863','0','0','0.925472','-0.378816','160','0','1'),
(@halloween+62,'208200','0','1497','1497','1','1','1648.18','257.97','-56.8765','5.21061','0','0','0.510948','-0.859612','160','0','1'),
(@halloween+63,'208200','0','1497','1497','1','1','1629.82','183.019','-62.1793','3.76156','0','0','0.952338','-0.305044','160','0','1'),
(@halloween+64,'208200','0','1497','1497','1','1','1595.75','212.781','-55.6082','4.96322','0','0','0.613101','-0.790004','160','0','1');

-- agregar los GUID de los objects a la implementación anual del evento
DELETE FROM `game_event_gameobject` WHERE `eventEntry` = 12 AND `guid` BETWEEN @halloween-1 AND @halloween+64;

INSERT INTO `game_event_gameobject` (`eventEntry`, `guid`)
VALUES
-- Ciudad de Ventormenta
(12,@halloween-1),
(12,@halloween),
(12,@halloween+1),
(12,@halloween+2),
(12,@halloween+3),
(12,@halloween+4),
(12,@halloween+5),
(12,@halloween+6),
(12,@halloween+7),
(12,@halloween+8),
(12,@halloween+9),
(12,@halloween+10),
(12,@halloween+11),
(12,@halloween+12),
(12,@halloween+13),
(12,@halloween+14),
(12,@halloween+15),
(12,@halloween+16),
(12,@halloween+17),
(12,@halloween+18),
(12,@halloween+19),
(12,@halloween+20),
(12,@halloween+21),
(12,@halloween+22),
(12,@halloween+23),
(12,@halloween+24),
(12,@halloween+25),
(12,@halloween+26),
(12,@halloween+27),
(12,@halloween+28),
(12,@halloween+29),
(12,@halloween+30),
(12,@halloween+31),
(12,@halloween+32),
(12,@halloween+33),
(12,@halloween+34),
(12,@halloween+35),
(12,@halloween+36),
-- Ciudad de Entrañas
(12,@halloween+37),
(12,@halloween+38),
(12,@halloween+39),
(12,@halloween+40),
(12,@halloween+41),
(12,@halloween+42),
(12,@halloween+43),
(12,@halloween+44),
(12,@halloween+45),
(12,@halloween+46),
(12,@halloween+47),
(12,@halloween+48),
(12,@halloween+49),
(12,@halloween+50),
(12,@halloween+51),
(12,@halloween+52),
(12,@halloween+53),
(12,@halloween+54),
(12,@halloween+55),
(12,@halloween+56),
(12,@halloween+57),
(12,@halloween+58),
(12,@halloween+59),
(12,@halloween+60),
(12,@halloween+61),
(12,@halloween+62),
(12,@halloween+63),
(12,@halloween+64);
